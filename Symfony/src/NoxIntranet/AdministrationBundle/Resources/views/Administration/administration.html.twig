{% extends "::layoutV2.html.twig" %}

{% block titrePage %}
    Administration
{% endblock %}

{% block messageAccueil %}Administration{% endblock %}
{% block sousMessageAccueil %}Veuillez sélectionner le type de contenu à gérer.{% endblock %}


{% block contenu %}

    <style>
        #DRHTable {
            width: 50%;
            margin: auto;
            margin-bottom: 5em;
        }

        #DRHTable, #DRHTable tr, #DRHTable th, #DRHTable td {
            border-collapse: collapse;
            border: 1px solid black;
        }

        #DRHTable th {
            color: white;
            background-color: #1F4E79;
        }

        #DRHTable tr {
            border: none;
        }

        #DRHTable td {
            padding: 1% 2% 1% 2%;
            border-top: none;
            border-bottom: none;
        }

        #DRHTable td .DRHLinkDiv {
            display: inline-block;
            padding: 2%;
            border-top: solid 1px rgb(192,0,0);
            border-bottom: solid 1px rgb(192,0,0);
        }

        #DRHTable td .DRHLinkDiv:hover {
            border-top: solid 1px black;
            border-bottom: solid 1px black;
        }

        #DRHTable td a, #DRHTable td a:visited {
            color: #1F4E79;
            text-decoration: none;
        } 
        
        
        
        
        
        .iconContener .row figure{
            text-align: center;
                margin: 25px 0;
        } 
        
        .iconContener .row span{
            font-size: 100px;
            background-color: rgb(31,78,121);
            width: 150px;
            height: 150px;
            text-align: center;
            line-height: 150px;
            color: #fff;
        } 
        
        .iconContener .row a:hover span  {
            background-color: #fff ;
            color: rgb(31,78,121);
        }
        .iconContener .row a:hover figcaption{
            color: rgb(31,78,121);
        } 
        
        .iconContener .row figcaption{
            margin-top: -23px;
            color: #fff;
            width: 75%;
            margin-left: 12.5%;
        } 
        
        .iconContener .row figcaption.deuxligne{
            margin-top: -38px;
            color: #fff;
            width: 50%;
            margin-left: 25%;
        } 

        .iconContener .row h4{
            margin-left: 15px;
        } 

        @media (min-width: 768px) and (max-width: 991px) { 
            .iconContener .row span{
                width: 125px;
                height: 150px;
            }
            .iconContener .row figcaption.deuxligne{
                margin-top: -38px;
                color: #fff;
                width: 75%;
                margin-left: 12.5%;
            } 
        }
    </style>

    <div class="iconContener">
        <div class="row">
        {% if app.user and is_granted('ROLE_ADMIN') %}

            <div class="sousMessageAcceuil"> 
                <h4> Configuration Intranet :  </h4>
            </div>

            {% if app.user and is_granted('ROLE_SUPER_ADMIN') %}

                <!-- Administration Administrateur -->
                <a href="{{ path('nox_intranet_administration_user_admin') }}" class="icon">
                    <figure class="col-xs-3" >
                        <span class="fa fa-group"></span>
                        <figcaption>Administrateurs</figcaption>
                    </figure>
                </a>

            {% endif %}

            <!-- Licenses (A faire) 
            <a href="{{ path('nox_intranet_administration_userDB') }}" class="icon">
                <figure>
                    <img 
                        src="{{ asset('bundles/noxintranetadministration/images/Licenses-128.png') }}" 
                        onmouseover="this.src = '{{ asset('bundles/noxintranetadministration/images/Licenses-128-hover.png') }}';" 
                        onmouseout="this.src = '{{ asset('bundles/noxintranetadministration/images/Licenses-128.png') }}';"
                        > 
                    <figcaption>Licenses</figcaption>
                </figure>
            </a>
            -->

            {% if app.user and app.user.local == true %}

                <!-- Mot de passe -->

                    <a href="{{ path('nox_intranet_admin_mdp') }}" class="icon">
                        <figure class="col-xs-3" >
                            <span class="fa fa-database"></span>
                            <figcaption>Modif. MDP</figcaption>
                        </figure>
                    </a>
 
            {% endif %}

            <!-- Synchro. AD -->

                <a href="{{ path('nox_intranet_administration_userDB') }}" class="icon">
                    <figure class="col-xs-3" >
                        <span class="fa fa-database"></span>
                        <figcaption>Synchro. AD</figcaption>
                    </figure>
                </a>

                
            <!-- Administration Utilisateurs -->
            <a href="{{ path('nox_intranet_administration_user') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-group"></span>
                    <figcaption>Utilisateurs</figcaption>
                </figure>
            </a>

            </div>
            <div class="row">
                
            <div class="sousMessageAcceuil"> 
                <h4> Publication DSI :  </h4>
            </div>

            <!-- Archives -->
            <a href="{{ path('nox_intranet_archives') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-archive"></span>
                    <figcaption>Archives</figcaption>
                </figure>
            </a>

            <!-- Avancement Projet -->
            <a href="{{ path('nox_intranet_avancement_projet') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-calendar"></span>
                    <figcaption>Av. projet</figcaption>
                </figure>
            </a>

            <!-- Demande Mat/log -->
            <a href="{{ path('nox_intranet_administration_materiel') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-shopping-basket"></span>
                    <figcaption>Demande Mat/log</figcaption>
                </figure>
            </a> 

            </div>
            <div class="row">

            <!-- Imprimantes (A faire)
            <a href="{{ path('nox_intranet_administration_imprimantes') }}" class="icon">
                <figure>
                    <span class="fa fa-paper"></span>
                    <figcaption>Imprimantes</figcaption>
                </figure>
            </a> 
            -->

            <!-- Informations -->
            <a href="{{ path('nox_intranet_information') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-info"></span>
                    <figcaption>Informations</figcaption>
                </figure>
            </a>  

            <!-- Message d'alerte -->
            <a href="{{ path('nox_intranet_administration_message_alerte') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-warning"></span>
                    <figcaption>Message d'alerte</figcaption>
                </figure>
            </a>

            <!-- Monitoring charte informatique -->
            <a href="{{ path('nox_intranet_charte_informatique_monitoring') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-list"></span>
                    <figcaption class="deuxligne">Monitoring charte informatique</figcaption>
                </figure>
            </a>

            </div>
            <div class="row">

            <!-- Monitoring scripts planifiés -->
            <a href="{{ path('nox_intranet_monitoring_scheduled_scripts') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-list"></span>
                    <figcaption class="deuxligne">Monitoring scripts planifiés</figcaption>
                </figure>
            </a>

            <!-- News DSI -->
            <a href="{{ path('nox_intranet_administration_news') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-newspaper-o"></span>
                    <figcaption>News DSI</figcaption>
                </figure>
            </a>

            <!-- Serveurs -->
            <a href="{{ path('nox_intranet_administration_serveurs') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-server"></span>
                    <figcaption>Serveurs</figcaption>
                </figure>
            </a>   

            <!-- Statistique VPN -->
            <a href="{{ path('nox_intranet_vpn_stats_upload') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-bar-chart"></span>
                    <figcaption>Statistique VPN</figcaption>
                </figure>
            </a>   

        {% endif %}

            </div>
            <div class="row">
        
        <div class="sousMessageAcceuil"> 
            <h4> Publication Collaborateurs :  </h4>
        </div>

        {% if app.user and is_granted('ROLE_ADMIN') %}

            <!-- Assistant d'affaire -->
            <a href="{{ path('nox_intranet_administration_affaires') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-handshake-o"></span>
                    <figcaption>Assistant d'affaire</figcaption>
                </figure>
            </a>

        {% endif %}

        <!-- Assurance qualité -->
        <a href="{{ path('nox_intranet_aq') }}" class="icon">
            <figure class="col-xs-3" >
                <span class="fa fa-check-square-o"></span>
                <figcaption>Assurance qualité</figcaption>
            </figure>
        </a>

        <!-- Communication -->
        <a href="{{ path('nox_intranet_communication') }}" class="icon">
            <figure class="col-xs-3" >
                <span class="fa fa-comments"></span>
                <figcaption>Communication</figcaption>
            </figure>
        </a>    

            </div>
            <div class="row">

        {% if app.user and is_granted('ROLE_FAQ') %}        
            <!-- FAQ -->
            <a href="{{ path('nox_intranet_faq') }}" class="icon">
                <figure class="col-xs-3" >
                    <span class="fa fa-question"></span>
                    <figcaption>FAQ</figcaption>
                </figure>
            </a>

        {% endif %}

        <!-- Liens -->
        <a href="{{ path('nox_intranet_administration_liens') }}" class="icon">
            <figure class="col-xs-3" >
                <span class="fa fa-link"></span>
                <figcaption>Liens</figcaption>
            </figure>
        </a>

        <!-- Procédures (A ajouté)
        <a href="{{ path('nox_intranet_administration_liens') }}" class="icon">
            <figure>
                <img 
                    src="{{ asset('bundles/noxintranetadministration/images/Procedures-128.png') }}" 
                    onmouseover="this.src = '{{ asset('bundles/noxintranetadministration/images/Procedures-128-hover.png') }}';" 
                    onmouseout="this.src = '{{ asset('bundles/noxintranetadministration/images/Procedures-128.png') }}';"
                    > 
                <figcaption>Procédures</figcaption>
            </figure>
        </a>
        -->

        <!-- Références -->
        <a href="{{ path('nox_intranet_references') }}" class="icon">
            <figure class="col-xs-3" >
                <span class="fa fa-puzzle-piece"></span>
                <figcaption>Références</figcaption>
            </figure>
        </a>

        <!-- Ticketing -->
        <a href="{{ path('nox_intranet_administration_ticketing') }}" class="icon">
            <figure class="col-xs-3" >
                <span class="fa fa-ticket"></span>
                <figcaption>Ticketing</figcaption>
            </figure>
        </a>
    </div>
            
        <!-- DRH -->
        {% if app.user and is_granted('ROLE_RH') %}

            <div class="sousMessageAcceuil"> 
                <h4> DRH :  </h4>
            </div>

            <table id='DRHTable' class="table text-center">
                <tr>
                    <th>Pointage</th>
                    <th>Développement professionnel</th>
                    <th>Autre</th>
                </tr>
                <tr>
                    <td>
                        <div class='DRHLinkDiv'><a href="{{ path('nox_intranet_pointages_compilation', {'validationStep': 'RH'}) }}">Assistant(e) RH - Correction/Validation compilation</a></div>
                    </td>
                    <td>
                        {% if app.user.username == 'n.rigaudeau' or app.user.username == 'a.forestier' or app.user.username == 't.besson' %}
                            <div class='DRHLinkDiv'><a href="{{ path('nox_intranet_developpement_professionnel_synthese_excel') }}">Synthèse</a></div>
                        {% endif %}
                    </td>
                    <td>
                        <div class='DRHLinkDiv'><a href="{{ path('nox_intranet_prestation_administration_da') }}">Prestations internes - Administration des DA</a></div>
                    </td>
                </tr>
                <tr>
                    <td><div class='DRHLinkDiv'><a href="{{ path('nox_intranet_pointages_compilation', {'validationStep': 'Final'}) }}">Consultation des compilations validées</a></div></td>
                    <td><div class='DRHLinkDiv'><a href="{{ path('nox_intranet_developpement_professionnel_monitoring_formulaire') }}">Suivis des entretiens</a></div></td>
                    <td><div class='DRHLinkDiv'><a href="{{ path("nox_intranet_matrice_collaborateur_info_file_uploading") }}">Import des informations de matrice de compétence</a></div></td>
                </tr>
                <tr>
                    <td><div class='DRHLinkDiv'><a href="https://noxingenierie-my.sharepoint.com/personal/l_morisseau_groupe-nox_com/_layouts/15/WopiFrame.aspx?sourcedoc=%7B84616442-030A-4A6D-8CD9-B17A0FB1D49C%7D&file=COMPILATION%20FICHIER%20HIERARCHIQUE%20110117.xlsx&action=default" target="_blank">Fichier de hiérarchie RH</a></div></td>
                    <td></td>
                    <td><div class='DRHLinkDiv'><a href="{{ path("nox_intranet_matrice_collaborateur_export_matrice_competence") }}">Export des compétences des collaborateurs</a></div></td>
                </tr>
                <tr>
                    <td><div class='DRHLinkDiv'><a href='{{ asset('Pointage/Aide/Prise en main du pointage RH.pdf') }}' target='_blank'>Consulter la notice</a></div></td>
                    <td></td>
                    <td><div class='DRHLinkDiv'><a href="{{ path("nox_intranet_matrice_collaborateur_consultation_matrice_competence") }}">Tableau de consultation des compétences</a></div></td>
                </tr>
            </table>

        {% endif %}
        <!-- Fin DRH -->

    </div>

{% endblock %}
